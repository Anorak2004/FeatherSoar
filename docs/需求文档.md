# 轻羽飞扬 (FeatherSoar) — 羽毛球运动记录手表应用 开发需求文档

## 1. 项目背景  

随着可穿戴设备在运动健康领域的普及，专业化、实时化运动数据监测成为提升训练效率和运动体验的关键。针对羽毛球运动的高强度爆发型特征，本项目基于 vivo Watch（BlueOS）平台开发“轻羽飞扬 (FeatherSoar)”手表应用，帮助用户直观、全面地记录与分析羽毛球运动状态。



## 2. 产品概述

- **中 文 名**：轻羽飞扬  
- **英 文 名**：FeatherSoar  
- **目标用户**：羽毛球爱好者、业余及半专业运动员  
- **核心价值**：  
  1. 实时采集挥拍、心率、卡路里等关键运动数据  
  2. 全面解析进攻/防守、正反手、拍速等技术指标  
  3. 提供记分、步伐训练、排行榜、成就徽章等辅助功能  
  4. 与系统“健康”App、云端双重备份，保障数据安全与隐私  

## 3. 目标平台与技术栈  

- **开发平台**：BlueOS Studio  
- **运行环境**：vivo Watch 系列（BlueOS 内核）  
- **编程语言**：JavaScript + BlueOS SDK (.ux 单文件组件)  
- **架构模式**：MVVM（Model–View–ViewModel）  
- **项目结构**：Monorepo 多包（core、motion、ui、service、watchface）  
- **数据存储**：本地 SQLite；远程 RESTful API (HTTPS + JSON)  
- **协作工具**：GitHub（Conventional Commits + GitHub Flow）  

## 4. 功能需求

### 4.1 会话控制  

- **开始运动**：手表端▶打开 FeatherSoar ▶选择模式（单打/双打/混双）▶点击“开始”  
- **结束运动**：实时数据采集停止 ▶跳转至运动报告  

### 4.2 实时数据采集  

| 数据项                | 来源                    | 说明                         |
| --------------------- | ----------------------- | ---------------------------- |
| 挥拍次数              | 陀螺仪 + 加速度传感器   | 根据挥拍特征检测完整一次挥拍 |
| 拍速 (当前/最⾼)      | 传感器 + 时间戳         | 计算加速度峰值对应速度       |
| 心率 (平均/最⾼/最低) | 心率监测器              | 运动全程心率统计             |
| 卡路里消耗            | METs 算法 (心率 + 时长) | 估算运动能量消耗             |
| 杀球次数              | 挥拍特征 + 力度方向检测 | 区分有效杀球动作             |
| 正手/反手次数         | 机器学习手势分类模型    | 基于传感器数据自动分类       |
| 进攻/防守占比         | 杀球 vs 接球时间        | 统计有效进攻动作占比         |
| 运动时长              | 系统计时                | 开始/结束时间差              |

### 4.3 数据展示与报告  

1. **实时仪表盘**：大数字展示心率/拍速；曲线图展示心率 & 拍速趋势  
2. **结束报告**：关键指标汇总；饼图（进/防占比）；折线图；备注笔记  
3. **历史统计**：周/月/年报表；运动排行榜  
4. **单场详情**：时间轴回放关键数据点；心率预警标注  

### 4.4 辅助训练工具  

- **记分牌**：本地计分 & 远程同步  
- **步伐训练**：自定义节奏 + 震动/声音提示  
- **心率预警**：上下限阈值提醒  

### 4.5 社交与成就  

- 排行榜（周榜/好友榜）  
- 成就徽章（首场、100 次挥拍、最长连续运动）  
- 个性化目标与提醒  

## 5. 非功能需求  

- **性能**：挥拍检测延迟 <1 s；心率采集不丢帧  
- **可靠性**：离线模式缓存数据，网络恢复自动同步  
- **兼容性**：支持 vivo Watch X/S/Pro 多型号  
- **可用性**：单手操作；按钮 ≥ 40px；深/浅色主题  
- **安全性**：本地数据 AES-256 加密；TLS 1.2+ 传输；Token 验证  

## 6. 模块与包结构  

.feathersoar/
 │
 ├── packages/
 │   ├── core/            # 公共工具库、类型定义
 │   ├── motion/          # 运动数据采集与算法
 │   ├── ui/              # 公共 UI 组件 (.ux 文件)
 │   ├── service/         # REST API 调用 & 数据同步
 │   ├── watchface/       # 自定义表盘实现
 │   └── quickcard/       # 快捷卡片组件
 │
 ├── .cursor/             # Cursor Project Rules
 │   └── rules.general.mdc
 │   └── rules.blueos-js.mdc
 │   └── rules.motion.mdc
 │   └── rules.ui.mdc
 │
 ├── src/                 # 应用入口与页面
 ├── manifest.json        # BlueOS 应用配置
 ├── package.json         # Monorepo 根依赖
 └── README.md            # 项目介绍与运行指南

## 7. 开发流程  

1. **初始化**：BlueOS Studio 环境 → 克隆仓库 → 安装依赖  
2. **UI 开发**：基于 .ux 文件与 MVVM 构建界面 → BlueOS Studio 实时预览  
3. **业务开发**：实现传感器调用、数据处理逻辑 → 本地模拟 & 真机调试  
4. **联调**：集成 HealthKit 同步 & 云端 API 测试  
5. **测试**：单元测试(Jest) & 集成测试 → CI (GitHub Actions)  
6. **打包发布**：生成 .rpk 包 → vivo 应用商店审核  

## 8. 数据同步与隐私  

- **系统“健康” App 同步**：通过 JS API 写入 Workout 记录  
- **云端备份**：用户可开启，JSON 格式上传 → AES-256 存储  
- **权限管理**：首次启动请求传感器/心率/网络权限；支持数据删除  

## 9. 测试需求  

- 覆盖率 ≥ 85%（行覆盖率）  
- 模拟传感器 & Mock 网络请求  
- 真机心率 & 传感器可靠性测试  
- CI 自动执行所有测试与 lint  

## 10. 发布与运维  

- **版本**：v1.0.0 (SemVer)  
- **上架**：vivo 应用商店  
- **监控**：Crashlytics + 日志上报  
- **更新策略**：小版本隔周发布，功能版本隔月发布  

## 11. 项目里程碑  

| 阶段     | 时间（预计）        | 产出                         |
| -------- | ------------------- | ---------------------------- |
| 需求确认 | 2025-07-05          | 本开发需求文档               |
| 原型设计 | 2025-07-12          | 手表端交互原型（Figma）      |
| 核心开发 | 2025-07-13 ～ 08-15 | 数据采集、报告、训练模块     |
| 测试优化 | 2025-08-16 ～ 08-31 | 测试报告、性能调优、Bug 修复 |
| 首次发布 | 2025-09-05          | vivo 应用商店 v1.0 上架      |

---

“轻羽飞扬 (FeatherSoar)” 将助力每一位羽球爱好者更专业地洞察运动数据，提升技战术水平。请审阅，如有补充或调整，随时反馈！  